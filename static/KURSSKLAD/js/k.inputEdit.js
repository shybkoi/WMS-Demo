/*  * inpEdit 1.0 - jQuery plugin * requires jQuery v1.2.2 or later, jquery.maskedinput-1.2.1.pack.js *  * Copyright (c) 2011, Denys Skychko */$.fn.inpEdit = function(options){    options = $.extend({                inptype:'text',      //"text", "date"                callback: false,     //function that runs at the end of the process              				event: 'click',              },options);    $(this).unbind('click').one(options.event,function(){        var $el = $(this);        var width = $el.width()*0.9;        var oldvalue = $el.text();        var re = /^\s*/gi        oldvalue = oldvalue.replace(re,'');        $el.html('<input style="width:'+width+'px;" type="text" value="'+oldvalue+'">').find('>input').focus()            .bind('blur',function(){                var newvalue = $(this).val();                if(options.inptype == 'date')                    newvalue = newvalue.replace(/^__.__.____$/gi,'');                $el.html(newvalue).inpEdit({inptype:options.inptype,callback:options.callback});                if( newvalue != oldvalue )                                        if( options.callback )                        options.callback.call($el,oldvalue,newvalue);            }).keypress(function(e){                                    if( e.which == 13 ) //enter code                    $el.find('input:first').trigger('blur');            });           if(options.inptype == 'date')            $el.find('input:first').mask("99.99.9999");                       });}